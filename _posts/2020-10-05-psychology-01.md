---
title: "[ë°ì´ì½˜ ì‹¬ë¦¬ì„±í–¥ ì˜ˆì¸¡ ëŒ€íšŒ] ë¬¸ìì—´ì´ í¬í•¨ëœ ë°ì´í„° ì²˜ë¦¬í•˜ê¸°"
date: 2020-10-05
categories: ë°ì´ì½˜ë¦¬ë·°
toc: true
toc_sticky: true
toc_label: "ëª©ì°¨"
tags : data dacon contest
header:
  teaser: "https://github.com/Jihyun22/Jihyun22.github.io/blob/master/_posts/images/teasers/psychology.png?raw=true"
---

<center><p>
  <img src="https://visitor-badge.laobi.icu/badge?page_id=jihyun22.github.io/ë°ì´ì½˜ë¦¬ë·°/psychology-01/" alt="visitor"/>
    </p></center>

  <br/>


<img src= "https://github.com/Jihyun22/Jihyun22.github.io/blob/master/_posts/images/teasers/psychology.png?raw=true">

ì›”ê°„ë°ì´ì½˜ 8 ì‹¬ë¦¬ ì„±í–¥ ì˜ˆì¸¡ ê²½ì§„ ëŒ€íšŒ ë¦¬ë·°ì…ë‹ˆë‹¤. 

- ë°ì´ì½˜ ëŒ€íšŒ ì•ˆë‚´ ë°”ë¡œê°€ê¸° [ë§í¬](https://dacon.io/competitions/official/235647/overview/)

---

<br/>



# ğŸš€ ê°œìš” 

<br/>

ì´ë²ˆ ì›”ê°„ ë°ì´ì½˜ì˜ ì‹¬ë¦¬ ì„±í–¥ ì˜ˆì¸¡ ê²½ì§„ëŒ€íšŒëŠ” ë§ˆí‚¤ì•„ë°¸ë¦¬ì¦˜ ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸ë¥¼ í™œìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì°¸ê°€ìì˜ êµ­ê°€ ì„ ê±° íˆ¬í‘œ ì—¬ë¶€ë¥¼ ì˜ˆì¸¡í•˜ëŠ” ëŒ€íšŒì…ë‹ˆë‹¤.

<br/>

ì£¼ì–´ì§„ ë°ì´í„°ëŠ” train ë°ì´í„° ê¸°ì¤€ 78ê°œì˜ ì¹¼ëŸ¼ì´ ìˆìœ¼ë©° 'education' ë“± ë¬¸ìì—´ì´ í¬í•¨ëœ ë³€ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

- ë°ì´í„° ì„¤ëª… ë°”ë¡œê°€ê¸° [ë§í¬](https://dacon.io/competitions/official/235647/talkboard/401534?page=1&dtype=recent&ptype=pub)

<br/>

ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” `get_dummies()` ë¥¼ ì‚¬ìš©í•œ ë¬¸ìì—´ì´ í¬í•¨ëœ ë³€ìˆ˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤. *Label encoding* ê³¼ ê´€ë ¨ëœ ë¬¸ì œì…ë‹ˆë‹¤.

  <br/>

ë°ì´í„° ë‹¤ìš´ì€ ì•„ë˜ ë§í¬ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

- ë°ì´í„° ë‹¤ìš´ë¡œë“œ [ë§í¬](http://bit.ly/%EC%8B%AC%EB%A6%AC%EB%8D%B0%EC%9D%B4%ED%84%B0) (ëŒ€íšŒ ì°¸ê°€ ì‹ ì²­ í›„ ê°€ëŠ¥)

  <br/>

---

<br/> 

# 01 ë°ì´í„° ë¡œë“œ
<br/>

ì‚¬ìš© ì–¸ì–´ëŠ” `python` , êµ¬í˜„ í™˜ê²½ì€  `jupyter notebook` ì…ë‹ˆë‹¤.

```python

import pandas as pd
import numpy as np

```

ë°ì´í„° ì¡°ì‘ì„ ìœ„í•´ `pandas`ì™€ `numpy`ë¥¼ ì„í¬íŠ¸í–ˆìŠµë‹ˆë‹¤.

<br/>

```python

train=pd.read_csv('data/train.csv', index_col=0)
test=pd.read_csv('data/test_x.csv', index_col=0)
submission=pd.read_csv('data/sample_submission.csv', index_col=0)

```

ì£¼ì–´ì§„ ë°ì´í„°ëŠ” `csv` í˜•ì‹ì…ë‹ˆë‹¤. ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ pathë¥¼ ì„¤ì •í•˜ê³  `pandas`ì˜ `read_csv()`ë©”ì†Œë“œë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. 

<br/>

```python

train

# 45532 rows Ã— 77 columns

```

|   QaA |  QaE |  QbA |  QbE |  QcA |  QcE |  QdA |  QdE |  QeA |  QeE |  ... | wr_04 | wr_05 | wr_06 | wr_07 | wr_08 | wr_09 | wr_10 | wr_11 | wr_12 | wr_13 |      |
| ----: | ---: | ---: | ---: | ---: | ---: | ---: | ---: | ---: | ---: | ---: | ----: | ----: | ----: | ----: | ----: | ----: | ----: | ----: | ----: | ----: | ---: |
| index |      |      |      |      |      |      |      |      |      |      |       |       |       |       |       |       |       |       |       |       |      |
|     0 |  3.0 |  363 |  4.0 | 1370 |  5.0 |  997 |  1.0 | 1024 |  2.0 | 1577 |   ... |     0 |     1 |     0 |     1 |     1 |     0 |     1 |     0 |     1 |    1 |
|     1 |  5.0 |  647 |  5.0 | 1313 |  3.0 | 3387 |  5.0 | 2969 |  1.0 | 4320 |   ... |     1 |     1 |     0 |     1 |     1 |     0 |     1 |     0 |     1 |    1 |
|     2 |  4.0 | 1623 |  1.0 | 1480 |  1.0 | 1021 |  4.0 | 3374 |  5.0 | 1333 |   ... |     1 |     1 |     0 |     1 |     1 |     1 |     1 |     0 |     1 |    1 |
|     3 |  3.0 |  504 |  3.0 | 2311 |  4.0 |  992 |  3.0 | 3245 |  1.0 |  357 |   ... |     0 |     0 |     0 |     0 |     1 |     0 |     1 |     0 |     1 |    1 |
|     4 |  1.0 |  927 |  1.0 |  707 |  5.0 |  556 |  2.0 | 1062 |  1.0 | 1014 |   ... |     1 |     1 |     1 |     1 |     1 |     0 |     1 |     1 |     1 |    1 |
|   ... |  ... |  ... |  ... |  ... |  ... |  ... |  ... |  ... |  ... |  ... |   ... |   ... |   ... |   ... |   ... |   ... |   ... |   ... |   ... |   ... |  ... |
| 45527 |  2.0 | 1050 |  5.0 |  619 |  4.0 |  328 |  1.0 |  285 |  1.0 |  602 |   ... |     1 |     1 |     0 |     1 |     1 |     1 |     1 |     0 |     1 |    1 |
| 45528 |  2.0 |  581 |  3.0 | 1353 |  4.0 | 1164 |  1.0 |  798 |  3.0 | 1680 |   ... |     1 |     1 |     0 |     1 |     1 |     1 |     1 |     0 |     1 |    1 |
| 45529 |  4.0 |  593 |  1.0 |  857 |  1.0 | 1047 |  4.0 | 1515 |  5.0 | 1690 |   ... |     1 |     1 |     0 |     1 |     1 |     0 |     1 |     0 |     1 |    1 |
| 45530 |  1.0 |  747 |  3.0 | 1331 |  4.0 |  892 |  2.0 | 1281 |  1.0 | 1328 |   ... |     1 |     1 |     0 |     1 |     1 |     1 |     1 |     0 |     1 |    1 |
| 45531 |  3.0 |  496 |  5.0 | 1827 |  5.0 |  754 |  3.0 | 1117 |  1.0 |  432 |   ... |     1 |     1 |     0 |     1 |     1 |     0 |     1 |     0 |     1 |    1 |

ë°ì´í„°ê°€ ì •ìƒì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.

  <br/>

train ë°ì´í„°ëŠ” 77ê°œì˜ ì¹¼ëŸ¼ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë¼ë²¨ì´ í¬í•¨ëœ ê°’ìœ¼ë¡œ ì£¼ì–´ì§„ ë°ì´í„° ì„¤ëª…ì— ë§ê²Œ `vote` ì¹¼ëŸ¼ì„ ë¼ë²¨ yë¡œ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.

```python

X = train.drop('voted', axis = 1)
y = train['voted']

```

`axis = 1` ëŠ” ì¹¼ëŸ¼ì„ drop í•  ë•Œ ì—´ì„ ê¸°ì¤€ìœ¼ë¡œ dropí•œë‹¤ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤. XëŠ” ë¼ë²¨ì´ ì œì™¸ëœ ë°ì´í„°ê°€, yëŠ” ë¼ë²¨ê°’ì´ í¬í•¨ë©ë‹ˆë‹¤. 

  <br/>

---

  <br/>

# 02 ë°ì´í„° ì „ì²˜ë¦¬ - ì¸ì½”ë”©
 <br/>

ì¹¼ëŸ¼ ë³„ë¡œ ë°ì´í„°ì— í¬í•¨ëœ ê°’ì„ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤. ë¬¸ì œì—ì„œ ì£¼ì–´ì§„ ë°ì´í„° ì„¤ëª… ì¤‘ ì¼ë¶€ ì¹¼ëŸ¼ì— ë²”ì£¼í˜• ë°ì´í„° ê°’ì´ í¬í•¨ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

<br/>

ì—´ì˜ ë‚´ìš©ì„ í™•ì¸í•˜ê¸° ìœ„í•´ `pandas`ì˜ `value_count()` ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.

```python

print(X.race.value_counts())

#White			31248
#Asian			6834
#Other			4330
#Black			2168
#Native American		548
#Arab					351
#Indigenous Australian	53
#Name: race, dtype: int64

```

`race`ê°’ì€ 7ê°œì˜ ê°’ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì´ ì™¸ì—ë„ `religion`, `age_group`, `gender` ë³€ìˆ˜ê°€ strí˜•íƒœì˜ ê°’ì„ í¬í•¨í•©ë‹ˆë‹¤.

â€‹    <br/>

`pandas`ì˜ `get_dummies()` ë©”ì†Œë“œë¡œ ì‰½ê²Œ ì›í•« ì¸ì½”ë”©ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¹¼ëŸ¼ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¹„êµí•˜ì—¬ ì¸ì½”ë”© íš¨ê³¼ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

```python

print("columns list : ", list(X.columns), "\n")
X_dummies = pd.get_dummies(X)
print("get_dummies columns list : ", list(X_dummies.columns))

# columns list :  ['QaA', 'QaE', 'QbA', 'QbE', 'QcA', 'QcE', 'QdA', 'QdE', 'QeA', 'QeE', 'QfA', 'QfE', 'QgA', 'QgE', 'QhA', 'QhE', 'QiA', 'QiE', 'QjA', 'QjE', 'QkA', 'QkE', 'QlA', 'QlE', 'QmA', 'QmE', 'QnA', 'QnE', 'QoA', 'QoE', 'QpA', 'QpE', 'QqA', 'QqE', 'QrA', 'QrE', 'QsA', 'QsE', 'QtA', 'QtE', 'age_group', 'education', 'engnat', 'familysize', 'gender', 'hand', 'married', 'race', 'religion', 'tp01', 'tp02', 'tp03', 'tp04', 'tp05', 'tp06', 'tp07', 'tp08', 'tp09', 'tp10', 'urban', 'wf_01', 'wf_02', 'wf_03', 'wr_01', 'wr_02', 'wr_03', 'wr_04', 'wr_05', 'wr_06', 'wr_07', 'wr_08', 'wr_09', 'wr_10', 'wr_11', 'wr_12', 'wr_13'] 

# get_dummies columns list :  ['QaA', 'QaE', 'QbA', 'QbE', 'QcA', 'QcE', 'QdA', 'QdE', 'QeA', 'QeE', 'QfA', 'QfE', 'QgA', 'QgE', 'QhA', 'QhE', 'QiA', 'QiE', 'QjA', 'QjE', 'QkA', 'QkE', 'QlA', 'QlE', 'QmA', 'QmE', 'QnA', 'QnE', 'QoA', 'QoE', 'QpA', 'QpE', 'QqA', 'QqE', 'QrA', 'QrE', 'QsA', 'QsE', 'QtA', 'QtE', 'education', 'engnat', 'familysize', 'hand', 'married', 'tp01', 'tp02', 'tp03', 'tp04', 'tp05', 'tp06', 'tp07', 'tp08', 'tp09', 'tp10', 'urban', 'wf_01', 'wf_02', 'wf_03', 'wr_01', 'wr_02', 'wr_03', 'wr_04', 'wr_05', 'wr_06', 'wr_07', 'wr_08', 'wr_09', 'wr_10', 'wr_11', 'wr_12', 'wr_13', 'age_group_+70s', 'age_group_10s', 'age_group_20s', 'age_group_30s', 'age_group_40s', 'age_group_50s', 'age_group_60s', 'gender_Female', 'gender_Male', 'race_Arab', 'race_Asian', 'race_Black', 'race_Indigenous Australian', 'race_Native American', 'race_Other', 'race_White', 'religion_Agnostic', 'religion_Atheist', 'religion_Buddhist', 'religion_Christian_Catholic', 'religion_Christian_Mormon', 'religion_Christian_Other', 'religion_Christian_Protestant', 'religion_Hindu', 'religion_Jewish', 'religion_Muslim', 'religion_Other', 'religion_Sikh']

```

`get_dummies()` ë¥¼ í†µí•´ ìë™ìœ¼ë¡œ ì¸ì½”ë”© ëœ í›„ ì¹¼ëŸ¼ ì´ë¦„ì´ ë°°ì •ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â€‹    <br/>

ë‹¤ìŒì€ ì¸ì½”ë”© ì „í›„ì˜ ì¹¼ëŸ¼ ìˆ˜ë¥¼ ë¹„êµí•˜ê² ìŠµë‹ˆë‹¤.

```python

print("X: {}\nX_dummies: {}".format(X.shape, X_dummies.shape))

#X: (45532, 76)
#X_dummies: (45532, 100)

```

76ê°œì˜ ì¹¼ëŸ¼ì—ì„œ 100ê°œì˜ ì¹¼ëŸ¼ìœ¼ë¡œ ëŠ˜ì–´ë‚¬ìŠµë‹ˆë‹¤.

  <br/>

ë™ì¼í•œ ì‘ì—…ì„ test ë°ì´í„° ì…‹ì—ë„ ì ìš©í•˜ê² ìŠµë‹ˆë‹¤. ì´ë•Œ ì¸ì½”ë”© í›„ train ë°ì´í„°ì™€ ì¹¼ëŸ¼ listê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. ë°ì´í„°ì…‹ì— í¬í•¨ëœ ê°’ì— ì°¨ì´ê°€ ìˆë‹¤ë©´, ì¹¼ëŸ¼ ë¦¬ìŠ¤íŠ¸ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```python

test = pd.get_dummies(test)
test.shape

# (11383, 100)

```

```python

print("True") if list(X_dummies.columns) == list(test.columns) else list(test.columns)

# True

```

ì¹¼ëŸ¼ ê°¯ìˆ˜ê°€ train ë°ì´í„°ì™€ ë™ì¼í•˜ê²Œ 100ê°œë¡œ ëŠ˜ì–´ë‚¬ìŠµë‹ˆë‹¤. ì¹¼ëŸ¼ ë¦¬ìŠ¤íŠ¸ëŠ” train ë°ì´í„°ì™€ ë™ì¼í•©ë‹ˆë‹¤.

â€‹    <br/>

ì¸ì½”ë”©ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.  ì¶”ê°€ì ìœ¼ë¡œ ë§ˆí‚¤ì•„ë²¨ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸ scoreì„ ê³„ì‚°í•˜ì—¬ ì¹¼ëŸ¼ì„ ìƒì„±í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ EDAë¥¼ ì§„í–‰í•œë‹¤ë©´ ë”ìš± ì˜ë¯¸ìˆëŠ” ì‘ì—…ì´ ë˜ê² ì§€ë§Œ ì´ë²ˆ ê²Œì‹œë¬¼ì—ì„œëŠ” ë‹¨ìˆœ ì¸ì½”ë”©ìœ¼ë¡œ ì „ì²˜ë¦¬ë¥¼ ë§ˆë¬´ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.

â€‹    <br/>

ì´ì–´ì§€ëŠ” ê²Œì‹œë¬¼ì—ì„œëŠ” AutoML ë¶„ì•¼ì¸ í•˜ì´í¼ íŒŒë¼ë¯¸í„° íŠœë‹ì„ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤. ì•„ë˜ ë§í¬ì—ì„œ í•´ë‹¹ ë‚´ìš©ì˜ ë…¸íŠ¸ë¶ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- data_encoding.ipynb [ë§í¬](https://github.com/Jihyun22/Dacon_workspace/blob/master/psychology/data_encoding.ipynb)




